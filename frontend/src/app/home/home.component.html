<div class="calendar-container">
    <h2>Календар</h2>

    <!-- Month Navigation -->
    <div class="month-navigation">
        <button mat-button (click)="changeMonth(-1)">
            <mat-icon>chevron_left</mat-icon>
        </button>
        <span>{{ currentDate | date: 'MMMM yyyy' }}</span>
        <button mat-button (click)="changeMonth(1)">
            <mat-icon>chevron_right</mat-icon>
        </button>
    </div>

    <!-- Weekday Names -->
    <div class="calendar-grid weekdays">
        <div *ngFor="let dayName of dayNames" class="weekday">
            {{ dayName }}
        </div>
    </div>

    <!-- Calendar Grid -->
    <div class="calendar-grid">
        <div *ngFor="let day of daysInMonth" class="day" [ngClass]="{'empty': !day}" (click)="selectDay(day)">
            <span *ngIf="day">{{ day.date.getDate() }}</span>
        </div>
    </div>

    <!-- Time Slots -->
    <mat-expansion-panel *ngIf="selectedDay" expanded>
        <mat-expansion-panel-header>
            <span>Свободни Часове за {{ selectedDay }}</span>
        </mat-expansion-panel-header>

        <div class="slots-container">
            <div *ngFor="let slot of getSelectedDaySlots(); let i = index" class="slot">
                <span class="time">{{ slot.time }}</span>
                <button
                    mat-button
                    [ngClass]="{'reserved': slot.reserved, 'available': !slot.reserved}"
                    (click)="reserveSlot(i)"
                    [disabled]="slot.reserved">
                    {{ slot.reserved ? 'РЕЗЕРВИРАН' : 'РЕЗЕРВАЦИЯ' }}
                </button>
            </div>
        </div>
    </mat-expansion-panel>
</div>
